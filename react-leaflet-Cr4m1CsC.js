import{r as f,R as g}from"./react-CuHAHrkP.js";import{u as w,c as I,L as p,a as T,b as m,e as R,d as j,f as z,w as H}from"./@react-leaflet-CXbVHX0D.js";import{l as s}from"./leaflet-CRhuSW2c.js";import"./react-dom-CSeHBi8o.js";function S(){return w().map}function Z(a){const t=S();return f.useEffect(function(){return t.on(a),function(){t.off(a)}},[t,a]),t}function r(){return r=Object.assign||function(a){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n])}return a},r.apply(this,arguments)}function h({bounds:a,boundsOptions:t,center:e,children:n,className:l,id:y,placeholder:L,style:M,whenReady:o,zoom:c,...C},b){const[x]=f.useState({className:l,id:y,style:M}),[i,E]=f.useState(null);f.useImperativeHandle(b,()=>(i==null?void 0:i.map)??null,[i]);const O=f.useCallback(d=>{if(d!==null&&i===null){const u=new s.Map(d,C);e!=null&&c!=null?u.setView(e,c):a!=null&&u.fitBounds(a,t),o!=null&&u.whenReady(o),E(I(u))}},[]);f.useEffect(()=>()=>{i==null||i.map.remove()},[i]);const v=i?g.createElement(p,{value:i},n):L??null;return g.createElement("div",r({},x,{ref:O}),v)}const _=f.forwardRef(h),q=T(function({position:t,...e},n){const l=new s.Marker(t,e);return m(l,R(n,{overlayContainer:l}))},function(t,e,n){e.position!==n.position&&t.setLatLng(e.position),e.icon!=null&&e.icon!==n.icon&&t.setIcon(e.icon),e.zIndexOffset!=null&&e.zIndexOffset!==n.zIndexOffset&&t.setZIndexOffset(e.zIndexOffset),e.opacity!=null&&e.opacity!==n.opacity&&t.setOpacity(e.opacity),t.dragging!=null&&e.draggable!==n.draggable&&(e.draggable===!0?t.dragging.enable():t.dragging.disable())}),A=j(function({url:t,...e},n){const l=new s.TileLayer(t,H(e,n));return m(l,n)},function(t,e,n){z(t,e,n);const{url:l}=e;l!=null&&l!==n.url&&t.setUrl(l)});export{_ as M,A as T,q as a,S as b,Z as u};
